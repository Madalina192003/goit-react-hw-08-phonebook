"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[762],{5762:function(e,t,n){n.r(t),n.d(t,{default:function(){return $}});var r=n(5861),o=n(9439),a=n(4687),s=n.n(a),i=n(2791),c=n(4390),d=n(3239),u=n(9255),l=n(4567),p=n(4358),m=n(493),y=n(1413),f=n(5987),v=n(4942),h=n(3733),Z=n(4419),g=n(3222),x=n(6934),b=n(5141),w=n(8357),S=n(6966),I=n(2071),P=n(6199),k=n(5878),j=n(7225);function T(e){return(0,j.ZP)("MuiListItem",e)}(0,k.Z)("MuiListItem",["root","container","dense","alignItemsFlexStart","divider","gutters","padding","secondaryAction"]);var A=(0,k.Z)("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]);function C(e){return(0,j.ZP)("MuiListItemSecondaryAction",e)}(0,k.Z)("MuiListItemSecondaryAction",["root","disableGutters"]);var L=n(184),N=["className"],G=(0,x.ZP)("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.disableGutters&&t.disableGutters]}})({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)",variants:[{props:function(e){return e.ownerState.disableGutters},style:{right:0}}]}),R=i.forwardRef((function(e,t){var n=(0,w.i)({props:e,name:"MuiListItemSecondaryAction"}),r=n.className,o=(0,f.Z)(n,N),a=i.useContext(P.Z),s=(0,y.Z)((0,y.Z)({},n),{},{disableGutters:a.disableGutters}),c=function(e){var t=e.disableGutters,n=e.classes,r={root:["root",t&&"disableGutters"]};return(0,Z.Z)(r,C,n)}(s);return(0,L.jsx)(G,(0,y.Z)({className:(0,h.Z)(c.root,r),ownerState:s,ref:t},o))}));R.muiName="ListItemSecondaryAction";var M=R,F=["className"],B=["alignItems","children","className","component","components","componentsProps","ContainerComponent","ContainerProps","dense","disableGutters","disablePadding","divider","secondaryAction","slotProps","slots"],E=(0,x.ZP)("div",{name:"MuiListItem",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.dense&&t.dense,"flex-start"===n.alignItems&&t.alignItemsFlexStart,n.divider&&t.divider,!n.disableGutters&&t.gutters,!n.disablePadding&&t.padding,n.hasSecondaryAction&&t.secondaryAction]}})((0,b.Z)((function(e){var t=e.theme;return{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",variants:[{props:function(e){return!e.ownerState.disablePadding},style:{paddingTop:8,paddingBottom:8}},{props:function(e){var t=e.ownerState;return!t.disablePadding&&t.dense},style:{paddingTop:4,paddingBottom:4}},{props:function(e){var t=e.ownerState;return!t.disablePadding&&!t.disableGutters},style:{paddingLeft:16,paddingRight:16}},{props:function(e){var t=e.ownerState;return!t.disablePadding&&!!t.secondaryAction},style:{paddingRight:48}},{props:function(e){return!!e.ownerState.secondaryAction},style:(0,v.Z)({},"& > .".concat(A.root),{paddingRight:48})},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:function(e){return e.ownerState.divider},style:{borderBottom:"1px solid ".concat((t.vars||t).palette.divider),backgroundClip:"padding-box"}},{props:function(e){return e.ownerState.button},style:{transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}}},{props:function(e){return e.ownerState.hasSecondaryAction},style:{paddingRight:48}}]}}))),O=(0,x.ZP)("li",{name:"MuiListItem",slot:"Container",overridesResolver:function(e,t){return t.container}})({position:"relative"}),_=i.forwardRef((function(e,t){var n=(0,w.i)({props:e,name:"MuiListItem"}),r=n.alignItems,o=void 0===r?"center":r,a=n.children,s=n.className,c=n.component,d=n.components,u=void 0===d?{}:d,l=n.componentsProps,p=void 0===l?{}:l,m=n.ContainerComponent,v=void 0===m?"li":m,x=n.ContainerProps,b=(x=void 0===x?{}:x).className,k=(0,f.Z)(x,F),j=n.dense,A=void 0!==j&&j,C=n.disableGutters,N=void 0!==C&&C,G=n.disablePadding,R=void 0!==G&&G,_=n.divider,z=void 0!==_&&_,D=n.secondaryAction,J=n.slotProps,W=void 0===J?{}:J,H=n.slots,V=void 0===H?{}:H,Y=(0,f.Z)(n,B),$=i.useContext(P.Z),q=i.useMemo((function(){return{dense:A||$.dense||!1,alignItems:o,disableGutters:N}}),[o,$.dense,A,N]),K=i.useRef(null),Q=i.Children.toArray(a),U=Q.length&&(0,S.Z)(Q[Q.length-1],["ListItemSecondaryAction"]),X=(0,y.Z)((0,y.Z)({},n),{},{alignItems:o,dense:q.dense,disableGutters:N,disablePadding:R,divider:z,hasSecondaryAction:U}),ee=function(e){var t=e.alignItems,n=e.classes,r={root:["root",e.dense&&"dense",!e.disableGutters&&"gutters",!e.disablePadding&&"padding",e.divider&&"divider","flex-start"===t&&"alignItemsFlexStart",e.hasSecondaryAction&&"secondaryAction"],container:["container"]};return(0,Z.Z)(r,T,n)}(X),te=(0,I.Z)(K,t),ne=V.root||u.Root||E,re=W.root||p.root||{},oe=(0,y.Z)({className:(0,h.Z)(ee.root,re.className,s)},Y),ae=c||"li";return U?(ae=oe.component||c?ae:"div","li"===v&&("li"===ae?ae="div":"li"===oe.component&&(oe.component="div")),(0,L.jsx)(P.Z.Provider,{value:q,children:(0,L.jsxs)(O,(0,y.Z)((0,y.Z)({as:v,className:(0,h.Z)(ee.container,b),ref:te,ownerState:X},k),{},{children:[(0,L.jsx)(ne,(0,y.Z)((0,y.Z)((0,y.Z)((0,y.Z)({},re),!(0,g.Z)(ne)&&{as:ae,ownerState:(0,y.Z)((0,y.Z)({},X),re.ownerState)}),oe),{},{children:Q})),Q.pop()]}))})):(0,L.jsx)(P.Z.Provider,{value:q,children:(0,L.jsxs)(ne,(0,y.Z)((0,y.Z)((0,y.Z)((0,y.Z)({},re),{},{as:ae,ref:te},!(0,g.Z)(ne)&&{ownerState:(0,y.Z)((0,y.Z)({},X),re.ownerState)}),oe),{},{children:[Q,D&&(0,L.jsx)(M,{children:D})]}))})})),z=n(940);function D(e){return(0,j.ZP)("MuiListItemText",e)}var J,W=(0,k.Z)("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),H=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],V=(0,x.ZP)("div",{name:"MuiListItemText",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[(0,v.Z)({},"& .".concat(W.primary),t.primary),(0,v.Z)({},"& .".concat(W.secondary),t.secondary),t.root,n.inset&&t.inset,n.primary&&n.secondary&&t.multiline,n.dense&&t.dense]}})((J={flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},(0,v.Z)(J,".".concat(z.Z.root,":where(& .").concat(W.primary,")"),{display:"block"}),(0,v.Z)(J,".".concat(z.Z.root,":where(& .").concat(W.secondary,")"),{display:"block"}),(0,v.Z)(J,"variants",[{props:function(e){var t=e.ownerState;return t.primary&&t.secondary},style:{marginTop:6,marginBottom:6}},{props:function(e){return e.ownerState.inset},style:{paddingLeft:56}}]),J)),Y=i.forwardRef((function(e,t){var n=(0,w.i)({props:e,name:"MuiListItemText"}),r=n.children,o=n.className,a=n.disableTypography,s=void 0!==a&&a,c=n.inset,d=void 0!==c&&c,u=n.primary,p=n.primaryTypographyProps,m=n.secondary,v=n.secondaryTypographyProps,g=(0,f.Z)(n,H),x=i.useContext(P.Z).dense,b=null!=u?u:r,S=m,I=(0,y.Z)((0,y.Z)({},n),{},{disableTypography:s,inset:d,primary:!!b,secondary:!!S,dense:x}),k=function(e){var t=e.classes,n=e.inset,r=e.primary,o=e.secondary,a={root:["root",n&&"inset",e.dense&&"dense",r&&o&&"multiline"],primary:["primary"],secondary:["secondary"]};return(0,Z.Z)(a,D,t)}(I);return null==b||b.type===l.Z||s||(b=(0,L.jsx)(l.Z,(0,y.Z)((0,y.Z)({variant:x?"body2":"body1",className:k.primary,component:null!==p&&void 0!==p&&p.variant?void 0:"span"},p),{},{children:b}))),null==S||S.type===l.Z||s||(S=(0,L.jsx)(l.Z,(0,y.Z)((0,y.Z)({variant:"body2",className:k.secondary,color:"textSecondary"},v),{},{children:S}))),(0,L.jsxs)(V,(0,y.Z)((0,y.Z)({className:(0,h.Z)(k.root,o),ownerState:I,ref:t},g),{},{children:[b,S]}))})),$=function(){var e=(0,i.useState)([]),t=(0,o.Z)(e,2),n=t[0],a=t[1],y=(0,i.useState)(null),f=(0,o.Z)(y,2),v=f[0],h=f[1],Z=(0,i.useState)(!0),g=(0,o.Z)(Z,2),x=g[0],b=g[1];return(0,i.useEffect)((function(){var e=function(){var e=(0,r.Z)(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,c.yF)();case 3:t=e.sent,console.log("Fetched contacts:",t),a(t),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("Error fetching contacts:",e.t0),h("A ap\u0103rut o eroare la \xeenc\u0103rcarea contactelor");case 12:return e.prev=12,b(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,8,12,15]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),x?(0,L.jsx)(d.Z,{}):(0,L.jsxs)(u.Z,{maxWidth:"sm",children:[(0,L.jsx)(l.Z,{variant:"h4",gutterBottom:!0,children:"Contacte"}),v&&(0,L.jsx)(p.Z,{severity:"error",children:v}),(0,L.jsx)(m.Z,{children:n.map((function(e){return(0,L.jsx)(_,{className:"contactListItem",children:(0,L.jsx)(Y,{primary:"".concat(e.name,": ").concat(e.phone)})},e.id)}))})]})}},4390:function(e,t,n){n.d(t,{a$:function(){return d},pH:function(){return u},yF:function(){return l}});var r=n(5861),o=n(4687),a=n.n(o),s="https://connections-api.goit.global",i=function(e){localStorage.setItem("authToken",e)},c=function(){return localStorage.getItem("authToken")},d=function(){var e=(0,r.Z)(a().mark((function e(t){var n,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(s,"/users/signup"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t.name,email:t.email,password:t.password})});case 2:if((n=e.sent).ok){e.next=5;break}throw new Error("Failed to register user");case 5:return e.next=7,n.json();case 7:return r=e.sent,i(r.token),e.abrupt("return",r);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=(0,r.Z)(a().mark((function e(t){var n,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(s,"/users/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 2:if((n=e.sent).ok){e.next=5;break}throw new Error("Failed to login user");case 5:return e.next=7,n.json();case 7:return r=e.sent,i(r.token),e.abrupt("return",r);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=(0,r.Z)(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(s,"/contacts"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(c())}});case 2:if((t=e.sent).ok){e.next=5;break}throw new Error("Failed to fetch contacts");case 5:return e.abrupt("return",t.json());case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}}]);
//# sourceMappingURL=762.3e34ce7d.chunk.js.map