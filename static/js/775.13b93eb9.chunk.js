"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[775],{5775:function(e,t,n){n.r(t),n.d(t,{default:function(){return v}});var r=n(5861),a=n(9439),o=n(4687),s=n.n(o),u=n(2791),i=n(1329),c=n(4390),l=n(9255),p=n(4567),f=n(4358),h=n(8176),m=n(4294),d=n(184),v=function(){var e=(0,u.useState)(""),t=(0,a.Z)(e,2),n=t[0],o=t[1],v=(0,u.useState)(""),g=(0,a.Z)(v,2),w=g[0],x=g[1],k=(0,u.useState)(""),y=(0,a.Z)(k,2),b=y[0],Z=y[1],j=(0,u.useState)(null),S=(0,a.Z)(j,2),C=S[0],T=S[1],E=(0,u.useState)(null),F=(0,a.Z)(E,2),W=F[0],N=F[1],O=(0,i.s0)(),R=function(){var e=(0,r.Z)(s().mark((function e(t){var r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),console.log("Submitting form with:",{name:n,email:w,password:b}),e.prev=2,e.next=5,(0,c.a$)({name:n,email:w,password:b});case 5:r=e.sent,console.log("Response:",r),N("Utilizator creat cu succes!"),T(null),O("/login"),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(2),console.error("Registration error:",e.t0),T("A ap\u0103rut o eroare la \xeenregistrare"),N(null);case 17:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t){return e.apply(this,arguments)}}();return(0,d.jsxs)(l.Z,{maxWidth:"sm",children:[(0,d.jsx)(p.Z,{variant:"h4",gutterBottom:!0,children:"Register"}),(0,d.jsxs)("form",{onSubmit:R,className:"registerForm",children:[C&&(0,d.jsx)(f.Z,{severity:"error",children:C}),W&&(0,d.jsx)(f.Z,{severity:"success",children:W}),(0,d.jsx)(h.Z,{label:"Name",type:"text",fullWidth:!0,variant:"outlined",margin:"normal",value:n,onChange:function(e){return o(e.target.value)}}),(0,d.jsx)(h.Z,{label:"Email",type:"email",fullWidth:!0,variant:"outlined",margin:"normal",value:w,onChange:function(e){return x(e.target.value)}}),(0,d.jsx)(h.Z,{label:"Password",type:"password",fullWidth:!0,variant:"outlined",margin:"normal",value:b,onChange:function(e){return Z(e.target.value)}}),(0,d.jsx)(m.Z,{type:"submit",variant:"contained",color:"primary",fullWidth:!0,children:"Register"})]})]})}},4390:function(e,t,n){n.d(t,{a$:function(){return c},pH:function(){return l},yF:function(){return p}});var r=n(5861),a=n(4687),o=n.n(a),s="https://connections-api.goit.global",u=function(e){localStorage.setItem("authToken",e)},i=function(){return localStorage.getItem("authToken")},c=function(){var e=(0,r.Z)(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(s,"/users/signup"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t.name,email:t.email,password:t.password})});case 2:if((n=e.sent).ok){e.next=5;break}throw new Error("Failed to register user");case 5:return e.next=7,n.json();case 7:return r=e.sent,u(r.token),e.abrupt("return",r);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=(0,r.Z)(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(s,"/users/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 2:if((n=e.sent).ok){e.next=5;break}throw new Error("Failed to login user");case 5:return e.next=7,n.json();case 7:return r=e.sent,u(r.token),e.abrupt("return",r);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=(0,r.Z)(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(s,"/contacts"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(i())}});case 2:if((t=e.sent).ok){e.next=5;break}throw new Error("Failed to fetch contacts");case 5:return e.abrupt("return",t.json());case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}}]);
//# sourceMappingURL=775.13b93eb9.chunk.js.map